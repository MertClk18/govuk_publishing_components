<%
  heading ||= nil
  items ||= nil
  sub_heading_level ||= 3
  two_column_layout ||= false
  local_assigns ||= nil

  ul_classes = %w[gem-c-cards__list]
  ul_classes << 'gem-c-cards__list--two-column-desktop' if two_column_layout

  shared_helper = GovukPublishingComponents::Presenters::SharedHelper.new(local_assigns)
%>
<% if items.present? %>
  <div class="gem-c-cards">
    <% if heading %>
      <%= content_tag(shared_helper.get_heading_level, class: "gem-c-cards__heading govuk-heading-m") do %>
        <%= heading %>
      <% end %>
    <% end %>
    <%= content_tag 'ul', class: ul_classes do %>
      <% items.each do |item| %>
        <li class="gem-c-cards__list-item">
          <%= content_tag("h#{sub_heading_level}", class: "gem-c-cards__sub-heading govuk-heading-s") do %>

          <a class="govuk-link gem-c-cards__link" href="<%= item[:link][:path]%>">
              <%= item[:link][:text] %>
          </a>
          <% end %>

          <% if item[:description] %>
            <p class="govuk-body gem-c-cards__description"><%= item[:description] %></p>
          <% end %>
        </li>
      <% end %>
    <% end %>
  </div>
<% end %>
